<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>BeatsPong - Login</title>
	<!-- Bootstrap CSS -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	<!-- Fonts Awesome CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
	<!-- Custom CSS -->
	<link rel="stylesheet" href="../css/styles.css">
	<link rel="stylesheet" href="../css/index.css">
	<link rel="stylesheet" href="../css/login.css">
	<link rel="stylesheet" href="../css/menu.css">
</head>

<body>

	<div class="dropdown">
		<button class="dropbtn">
			<i class="fa-solid fa-globe fa-2xl"></i>
			<!-- <img src="path/to/icon.png" alt="Icon" class="icon"> Language -->
		</button>
		<div class="dropdown-content">
			<!-- Buttons to switch languages -->
			<button onclick="translate_eng()">ENGLISH</button>
			<button onclick="translate_chi()">MANDARIN</button>
			<button onclick="translate_mly()">MALAY</button>
		</div>
	</div>
	<script>
		// Define the googleTranslateElementInit function before the script loads
		function googleTranslateElementInit() {
			console.log("Google Translate initialized");
			new google.translate.TranslateElement({
				pageLanguage: 'en',
				includedLanguages: 'en,zh-CN,ms',
				autoDisplay: false
			}, 'google_translate_element');
		}
	</script>
	<!-- Google Translate Widget (hidden) -->
	<div id="google_translate_element" class="hidden"></div>
	<div>


		<!-- Log in or registration selection screen -->
		<div id="landingScreen" class="">
			<div id="landingScreenFlexer"
				class="container d-flex flex-column justify-content-center align-items-center vh-100 Scifi">
				<iframe id="matrixIframe" src="./matrix_background/matrix.html"></iframe>
				<div class="container d-flex flex-column justify-content-center align-items-center vh-100">
					<h1 class="title">BEATSPONG</h1>
					<div class="button-container">
						<button class="btn btn-custom mx-3" id="loginButton">LOGIN</button>
						<button class="btn btn-custom" id="registerButton">REGISTER</button>
					</div>
				</div>
			</div>
		</div>
		<!-- End of selection screen -->

		<!-- Login Screen -->
		<div id="loginScreen"
			class="container d-none flex-column justify-content-center align-items-center vh-100 Scifi">
			<div class="container d-flex flex-column justify-content-center align-items-center vh-80 margin-top">
				<!-- <h1>LOGIN</h1> -->
				<i class="fas fa-table-tennis"></i>
				<br><br>
				<form id="loginForm">
					<div class="form-group">
						<label for="username">USERNAME:</label>
						<input type="text" class="form-control" id="username">
					</div>
					<div class="form-group">
						<label for="password">PASSWORD:</label>
						<input type="password" class="form-control" id="userPassword">
					</div>
					<div class="mt-5 font-weight-bold slogan">
						<p>"You choose the blue pill, the game ends. You disconnect, convincing yourself the victory was
							yours. You choose the red pill, and you remain in the game. I'll show you how far your skill
							can take you in this arena."</p>
					</div>
					<div class="button-login">
						<button type="submit" class="redpill"></button>
						<button id="backbtn" class="bluepill"></button>
					</div>
				</form>
				<div id="errorMessage" class="d-none CN-font"
					style="border: 2px solid darkred; background-color: lightcoral; color: black; padding: 10px; margin-top: 15px;">
					<span id="errorText"></span>
				</div>
			</div>
		</div>

		<!-- Register Screen -->
		<div id="registerScreen"
			class="container d-none flex-column justify-content-center align-items-center vh-100 Scifi">

			<div class="margin-top login">
				<h1>Enter the pong matrix.</h1>
				<form id="registerForm">
					<div class="form-group">
						<label for="username1">Username:</label>
						<input type="text" class="form-control" id="username1">
					</div>
					<div class="form-group">
						<label for="email">Email:</label>
						<input type="email" class="form-control" id="email">
					</div>
					<div class="form-group">
						<label for="password">Password:</label>
						<input type="password" class="form-control" id="password">
					</div>
					<div class="button-register">
						<button type="submit" class="redbtn ">Submit</button>
						<button id="backbtn2" class="bluebtn">Back</button>
					</div>
				</form>
				<div id="errorMessage2" class="d-none CN-font"
					style="border: 2px solid darkred; background-color: lightcoral; color: black; padding: 10px; margin-top: 15px;">
					<span id="errorText2"></span>
				</div>
			</div>
		</div>


		<!-- Profile Page -->
		<!-- <div id="menuScreen"
			class="container d-none flex-column flex-row justify-content-center align-items-center vh-100">
			<div class="box top-left">Top Left</div>
			<div class="box top-right">Top Right</div>
			<div class="box bottom-left">Bottom Left
				<div class="button-container">
					<button class="btn btn-custom mx-3" id="startGameButton-vp">Vanila Pong</button>
				</div>
			</div>
			<div class="box bottom-right">Bottom</div>
		</div> -->

		<!-- real profile page -->
		<div class='Menu d-none' id="menuScreen">
			<div class="container">
				<div class="profile">
					<img id="profilePictureMenu" src="" alt="Profile Picture">
					<h1 id="username">Username</h1>
					<p class="win-rate">Win Rate: <span id="winRate">0.0</span>%</p>
					<div class="win-rate-container center">
						<div class="win-rate-bar">
							<div id="winRateProgress"></div>
						</div>
					</div>
					<div class="game-buttons large-buttons">
						<button id="vanillaPong">Play Vanilla Pong</button>
						<button id="friendsPong">Play Friends Pong</button>
					</div>
				</div>
				<div class="friend-section">
					<div class="friend-list">
						<h2>Friend List</h2>
						<div class="search-bar">
							<input type="text" id="friendSearch" placeholder="Search friends...">
							<button onclick="searchFriends()">Search</button>
						</div>
						<ul id="friendsList"></ul>
						<div class="pagination">
							<button id="prevPage">Previous</button>
							<span id="currentPage">1</span>
							<button id="nextPage">Next</button>
						</div>
					</div>
					<div class="friend-requests">
						<h2>Friend Requests</h2>
						<ul id="friendRequests"></ul>
					</div>
					<div class="add-friend">
						<h2>Add Friend</h2>
						<div class="search-bar">
							<input type="text" id="addFriendSearch" placeholder="Search for new friends...">
							<button onclick="searchNewFriends()">Search</button>
						</div>
						<ul id="newFriendsList"></ul>
						<div class="pagination">
							<button id="prevNewPage">Previous</button>
							<span id="currentNewPage">1</span>
							<button id="nextNewPage">Next</button>
						</div>
					</div>
				</div>
			</div>	
			<script src="../js/menu.js"></script>
			<div id="editProfileModal" class="editProfile modal">
				<div class="modal-content">
					<h2>Edit Profile</h2>
					<div class="profile-image-upload">
						<img id="profileImagePreview" src="../images/default.png" alt="Profile Picture Preview">
						<input type="file" id="profileImageUpload" accept="image/*">
						<button id="uploadImageBtn">Upload Image</button>
					</div>
					<div class="username-edit">
						<input type="text" id="usernameInput" placeholder="New Username">
						<button id="saveUsernameBtn">Save Username</button>
					</div>
					<button id="closeModalBtn">Close</button>
				</div>
			</div>
		</div>

		<!-- Verification Page -->
		<div id="verificationScreen"
			class="container d-none flex-column justify-content-center align-items-center vh-100 Scifi">
			<div class="margin-top login">
				<h1>A code is sent to <span id="userEmail"></span> to verify your identity.</h1>
				<form id="verificationForm" class="text-center mt-4">
					<div class="form-group">
						<label for="verificationCode">Enter Verification Code:</label>
						<input type="text" class="form-control" id="verificationCode" placeholder="Enter your code"
							required>
					</div>
					<button type="submit" class="redbtn btn-primary mt-3">Submit</button>
				</form>
			</div>
		</div>

	<!-- Game Container -->
	<div id="gameContainer" class="container d-none">
        <canvas id="pong-game-canvas" height="25"></canvas>
        <div class="feature-buttons">
            <button id="AI_Left">Enable AI L</button>
            <button id="AI_Right">Enable AI R</button>
            <button id="Ball_Predict_Point">Show Ball Prediction</button>
            <button id="Collision_Particles">Enable Collision Particles</button>
            <button id="Snowfall">Enable Snowfall</button>
            <button id="AI_Prediction">Enable Pro AI</button>
        </div>
        <div class="scoreboard" id="score"></div>
        <div class="info">
            <div id="position"></div>
            <div id="scale"></div>
        </div>
        <div class="position">
            <div id="leftPaddlePosition"></div>
            <div id="rightPaddlePosition"></div>
            <div id="ballSpeed"></div>
        </div>
	</div>

		<!-- Google Translate Script -->
		<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
		<!-- Bootstrap JS and dependencies -->
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
		<!-- Custom JS -->
		<script src="../js/multi-language.js"></script>
		<script type="module" src="../js/index.js"></script>
		<script>
			window.addEventListener('load', () => {
				const translateSelect = document.querySelector('select.goog-te-combo');
				if (translateSelect) {
					translateSelect.value = 'en'; // Set the language to English
					translateSelect.dispatchEvent(new Event('change')); // Trigger the change event
				}
			});
		</script>
</body>

</html>